<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="widht=device-width, inital-scale=1.0">
    <!--CSS-->
    <link rel="stylesheet" href="src/view/regist.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
        
    <title>Registration Form</title>
    </head>
    <body>
        <div class="container">
            <header>Registration</header>

            <form action="" method = "POST" onsubmit="return onSubmit()">
                <div class="form first">
                    <div class="details personal">
                        <span class="title">Personal Details</span>

                        <div class="fields">
                            <div class="input-field">
                                <label>Full Name</label>
                              <input type="text" placeholder="Enter Your Name" id="full_name" required>  
                            </div>

                            <div class="input-field">
                                <label>Date of Birth</label>
                              <input type="date" placeholder="Enter Birth Date" id="date_of_birth"required>  
                            </div>

                            <div class="input-field">
                                <label>Email</label>
                              <input type="text" placeholder="Enter Your Email" id="email" required>  
                            </div>
                            <div class="input-field">
                                <label>Mobile Number</label>
                              <input type="text" placeholder="Enter Mobile Number" id="phone" required>  
                            </div>

                            <div class="input-field">
                                <label>Gender</label>
                              <input type="text" placeholder="Gender" id="gender" required>  
                            </div>
                            <div class="input-field">
                              <label>Address</label>
                            <input type="text" placeholder="Address" id="address" required>  
                          </div>

                            <div class="input-field">
                                <label>Occupation</label>
                              <input type="text" placeholder="Enter Occupation" id="occupation"required>  
                            </div>
                            <div class="input-field">
                                <label>Parents Name</label>
                              <input type="text" placeholder="Enter Parents Name" id="parent_name" required>  
                            </div>
                            <div class="input-field">
                                <label>Parents Mobile Number</label>
                              <input type="text" placeholder="Enter Parent's Number" id="parent_phone" required>  
                            </div>
                              <div class="input-field">
                                <label>Guardian</label>
                              <input type="text" placeholder="Enter Guardian Name" id="guardian_name" required>  
                            </div>
                            <!-- <select Status="Status">
                                <option value="">Pilih Status</option>
                                <option value="Menikah">Menikah</option>
                                <option value="Belum Menikah">Belum Menikah</option>
                            </select> -->
                        </div>
                        <button class="submitBtn">
                            <span class="BtnText">Submit</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <script> 
        function onSubmit(){
          var req = new XMLHttpRequest();
          var url = "/api/patients";

          var datajson = JSON.stringify({
          full_name : document.getElementById("full_name").value,
          date_of_birth : document.getElementById("date_of_birth").value.toString(),
          email : document.getElementById("email").value,
          address : document.getElementById("address").value,
          phone : document.getElementById("phone").value,
          gender : document.getElementById("gender").value,
          occupation : document.getElementById("occupation").value,
          parent_name : document.getElementById("parent_name").value,
          parent_phone : document.getElementById("parent_phone").value,
          guardian_name : document.getElementById("guardian_name").value,
        })

          req.open("POST", url, true);
          req.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
          req.onload = function(){
          console.log (this.responseText);
          };
          req.send(datajson);
          return false;
        }
        </script>
    </body>
</html>